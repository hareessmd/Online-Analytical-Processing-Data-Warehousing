CREATE TABLE ADMIN.SUPPLIER 
    ( 
     SUPPLIERID      NUMBER , 
     STOREID         NUMBER , 
     PRODUCTID       NUMBER , 
     PRODUCTNAME     VARCHAR2 (20) , 
     ACTUAL_AMOUNT   NUMBER , 
     AMOUNT_RECEIVED NUMBER , 
     BALANCE_AMOUNT  NUMBER , 
     SUPPLIER_RATING NUMBER , 
     SUPPLIEDDATE    DATE , 
     SERIALNUMBER    NUMBER GENERATED ALWAYS AS IDENTITY 
        ( START WITH 1 CACHE 20 )  NOT NULL 
    ) 
    TABLESPACE DATA 
    LOGGING 
;


CREATE UNIQUE INDEX ADMIN.SUPPLIER_PK ON ADMIN.SUPPLIER 
    ( 
     SUPPLIERID ASC 
    ) 
    TABLESPACE DATA 
    LOGGING 
;

ALTER TABLE ADMIN.SUPPLIER 
    ADD CONSTRAINT SUPPLIER_PK PRIMARY KEY ( SUPPLIERID ) 
    USING INDEX ADMIN.SUPPLIER_PK ;

ALTER TABLE ADMIN.SUPPLIER 
    ADD CONSTRAINT SUP_TO_PROD FOREIGN KEY 
    ( 
     PRODUCTID
    ) 
    REFERENCES ADMIN.PRODUCT ( PRODUCTID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SUPPLIER 
    ADD CONSTRAINT SUP_TO_STORE FOREIGN KEY 
    ( 
     STOREID
    ) 
    REFERENCES ADMIN.STORES ( STOREID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;