CREATE TABLE ADMIN.CUSTOMER 
    ( 
     CUSTOMERID       NUMBER , 
     CUSTOMERNAME     VARCHAR2 (20) , 
     PURCHASEDATE     DATE , 
     AMOUNTPURCHASED  NUMBER , 
     PAYMENT_TYPE     VARCHAR2 (20) , 
     CUSTOMER_ADDRESS VARCHAR2 (20) , 
     MOBILENUMBER     NUMBER , 
     PRODUCTID        NUMBER , 
     STOREID          NUMBER , 
     PROMOTIONID      NUMBER , 
     SERIALNUMBER     NUMBER GENERATED ALWAYS AS IDENTITY 
        ( START WITH 1 CACHE 20 )  NOT NULL 
    ) 
    TABLESPACE DATA 
    LOGGING 
;


CREATE UNIQUE INDEX ADMIN.CUSTOMER_PK ON ADMIN.CUSTOMER 
    ( 
     CUSTOMERID ASC 
    ) 
    TABLESPACE DATA 
    LOGGING 
;

ALTER TABLE ADMIN.CUSTOMER 
    ADD CONSTRAINT CUSTOMER_PK PRIMARY KEY ( CUSTOMERID ) 
    USING INDEX ADMIN.CUSTOMER_PK ;

ALTER TABLE ADMIN.CUSTOMER 
    ADD CONSTRAINT CUST_TO_PRO FOREIGN KEY 
    ( 
     PRODUCTID
    ) 
    REFERENCES ADMIN.PRODUCT ( PRODUCTID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.CUSTOMER 
    ADD CONSTRAINT CUST_TO_PROM FOREIGN KEY 
    ( 
     PROMOTIONID
    ) 
    REFERENCES ADMIN.PROMOTION ( PROMOTIONID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.CUSTOMER 
    ADD CONSTRAINT CUST_TO_STORE FOREIGN KEY 
    ( 
     STOREID
    ) 
    REFERENCES ADMIN.STORES ( STOREID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;