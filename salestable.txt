CREATE TABLE ADMIN.SALES 
    ( 
     SERIALNUMBER  NUMBER GENERATED ALWAYS AS IDENTITY 
        ( START WITH 1 CACHE 20 )  NOT NULL , 
     SALEID        NUMBER , 
     CUSTOMERID    NUMBER , 
     PRODUCTID     NUMBER , 
     EMPLOYEEID    NUMBER , 
     PROMOTIONID   NUMBER , 
     SUPPLIERID    NUMBER , 
     STOREID       NUMBER , 
     ORDERID       NUMBER , 
     SHIPPINGID    NUMBER , 
     QUANTITYSOLD  NUMBER , 
     AVERAGESALES  NUMBER , 
     NETPROFIT     NUMBER , 
     PRODUCTAMOUNT NUMBER 
    ) 
    TABLESPACE DATA 
    LOGGING 
;


CREATE UNIQUE INDEX ADMIN.SALES_PK ON ADMIN.SALES 
    ( 
     SALEID ASC 
    ) 
    TABLESPACE DATA 
    LOGGING 
;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALES_PK PRIMARY KEY ( SALEID ) 
    USING INDEX ADMIN.SALES_PK ;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALE_TO_CUST FOREIGN KEY 
    ( 
     CUSTOMERID
    ) 
    REFERENCES ADMIN.CUSTOMER ( CUSTOMERID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALE_TO_EMP FOREIGN KEY 
    ( 
     EMPLOYEEID
    ) 
    REFERENCES ADMIN.EMPLOYEES ( EMPLOYEEID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALE_TO_ORD FOREIGN KEY 
    ( 
     ORDERID
    ) 
    REFERENCES ADMIN."ORDER" ( ORDERID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALE_TO_PROD FOREIGN KEY 
    ( 
     PRODUCTID
    ) 
    REFERENCES ADMIN.PRODUCT ( PRODUCTID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALE_TO_PROM FOREIGN KEY 
    ( 
     PROMOTIONID
    ) 
    REFERENCES ADMIN.PROMOTION ( PROMOTIONID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALE_TO_SHIP FOREIGN KEY 
    ( 
     SHIPPINGID
    ) 
    REFERENCES ADMIN.SHIPPING ( SHIPPINGID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALE_TO_STORE FOREIGN KEY 
    ( 
     STOREID
    ) 
    REFERENCES ADMIN.STORES ( STOREID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;

ALTER TABLE ADMIN.SALES 
    ADD CONSTRAINT SALE_TO_SUP FOREIGN KEY 
    ( 
     SUPPLIERID
    ) 
    REFERENCES ADMIN.SUPPLIER ( SUPPLIERID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;