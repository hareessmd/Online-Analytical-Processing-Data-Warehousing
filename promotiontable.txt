CREATE TABLE ADMIN.PROMOTION 
    ( 
     PROMOTIONID  NUMBER , 
     CATEGORY     VARCHAR2 (20) , 
     STARTDATE    DATE , 
     ENDDATE      DATE , 
     STOREID      NUMBER , 
     COUPON_CODE  VARCHAR2 (20) , 
     SERIALNUMBER NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 CACHE 20 )  NOT NULL 
    ) 
    TABLESPACE DATA 
    LOGGING 
;


CREATE UNIQUE INDEX ADMIN.NEW_TABLE_PK ON ADMIN.PROMOTION 
    ( 
     PROMOTIONID ASC 
    ) 
    TABLESPACE DATA 
    LOGGING 
;

ALTER TABLE ADMIN.PROMOTION 
    ADD CONSTRAINT NEW_TABLE_PK PRIMARY KEY ( PROMOTIONID ) 
    USING INDEX ADMIN.NEW_TABLE_PK ;

ALTER TABLE ADMIN.PROMOTION 
    ADD CONSTRAINT PROM_TO_STORE FOREIGN KEY 
    ( 
     STOREID
    ) 
    REFERENCES ADMIN.STORES ( STOREID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;